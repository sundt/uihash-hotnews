# æ ‡ç­¾ç³»ç»ŸçŠ¶æ€æŠ¥å‘Š

## âœ… åˆå§‹åŒ–å®Œæˆ

**æ—¶é—´**: 2026-01-19  
**æœåŠ¡å™¨**: 120.77.222.205:52222  
**æ•°æ®åº“**: ~/hotnews/output/online.db

## ğŸ“Š æ ‡ç­¾æ•°æ®ç»Ÿè®¡

### æ€»è§ˆ
```
âœ… æˆåŠŸåˆå§‹åŒ– 62 ä¸ªæ ‡ç­¾
```

### æŒ‰ç±»å‹åˆ†å¸ƒ

| ç±»å‹ | æ•°é‡ | è¯´æ˜ |
|------|------|------|
| **Categoryï¼ˆå¤§ç±»ï¼‰** | 12 | äº’æ–¥åˆ†ç±»ï¼Œæ¯æ¡æ–°é—»åªèƒ½å±äºä¸€ä¸ª |
| **Topicï¼ˆä¸»é¢˜ï¼‰** | 40 | ç»†åˆ†ä¸»é¢˜ï¼Œå¯å¤šé€‰ |
| **Attributeï¼ˆå±æ€§ï¼‰** | 10 | å†…å®¹å±æ€§æ ‡ç­¾ |
| **æ€»è®¡** | **62** | |

## ğŸ·ï¸ å…·ä½“æ ‡ç­¾åˆ—è¡¨

### Categoriesï¼ˆå¤§ç±»ï¼‰- 12 ä¸ª

| ID | åç§° | å›¾æ ‡ |
|----|------|------|
| tech | ç§‘æŠ€ | ğŸ’» |
| finance | è´¢ç» | ğŸ’° |
| business | å•†ä¸š | ğŸ¢ |
| politics | æ”¿æ²» | ğŸ›ï¸ |
| world | å›½é™… | ğŸŒ |
| entertainment | å¨±ä¹ | ğŸ¬ |
| sports | ä½“è‚² | âš½ |
| health | å¥åº· | ğŸ¥ |
| science | ç§‘å­¦ | ğŸ”¬ |
| lifestyle | ç”Ÿæ´» | ğŸ  |
| education | æ•™è‚² | ğŸ“š |
| other | å…¶ä»– | ğŸ“° |

### Topicsï¼ˆä¸»é¢˜ï¼‰- ç§‘æŠ€ç±»ç¤ºä¾‹ï¼ˆå‰ 10 ä¸ªï¼‰

| ID | åç§° | å›¾æ ‡ | çˆ¶ç±» |
|----|------|------|------|
| ai_ml | AI/æœºå™¨å­¦ä¹  | ğŸ¤– | tech |
| llm | å¤§è¯­è¨€æ¨¡å‹ | ğŸ§  | tech |
| dev_tools | å¼€å‘å·¥å…· | ğŸ› ï¸ | tech |
| programming | ç¼–ç¨‹è¯­è¨€ | ğŸ’» | tech |
| database | æ•°æ®åº“ | ğŸ—„ï¸ | tech |
| cloud | äº‘è®¡ç®— | â˜ï¸ | tech |
| cybersecurity | ç½‘ç»œå®‰å…¨ | ğŸ”’ | tech |
| hardware | ç¡¬ä»¶/èŠ¯ç‰‡ | ğŸ”§ | tech |
| mobile | ç§»åŠ¨å¼€å‘ | ğŸ“± | tech |
| web3 | Web3/åŒºå—é“¾ | â›“ï¸ | tech |

### Attributesï¼ˆå±æ€§ï¼‰- 10 ä¸ª

| ID | åç§° | å›¾æ ‡ | è¯´æ˜ |
|----|------|------|------|
| free_deal | å…è´¹/ä¼˜æƒ  | ğŸ†“ | è–…ç¾Šæ¯›ã€å…è´¹èµ„æºã€æŠ˜æ‰£æ´»åŠ¨ |
| tutorial | æ•™ç¨‹/å®è·µ | ğŸ“ | åŠ¨æ‰‹æ•™ç¨‹ã€ä»£ç å®æˆ˜ |
| deep_dive | æ·±åº¦åˆ†æ | ğŸ” | é•¿æ–‡ã€ç ”æŠ¥ã€æ·±åº¦è§£è¯» |
| breaking | å¿«è®¯/é€ŸæŠ¥ | âš¡ | çªå‘æ–°é—»ã€å³æ—¶æ¶ˆæ¯ |
| official | å®˜æ–¹å‘å¸ƒ | ğŸ“¢ | å®˜æ–¹å…¬å‘Šã€æ–°å“å‘å¸ƒ |
| opinion | è§‚ç‚¹/è¯„è®º | ğŸ’­ | ä¸“æ ã€è¯„è®ºæ–‡ç«  |
| interview | è®¿è°ˆ | ğŸ¤ | äººç‰©è®¿è°ˆã€å¯¹è¯ |
| tool_rec | å·¥å…·æ¨è | ğŸ§° | è½¯ä»¶ã€æœåŠ¡æ¨è |
| career | èŒä¸š/æ±‚èŒ | ğŸ’¼ | æ±‚èŒã€æ‹›è˜ã€èŒä¸šå‘å±• |
| event | æ´»åŠ¨/ä¼šè®® | ğŸª | å¤§ä¼šã€å±•ä¼šã€æ´»åŠ¨ |

## ğŸ” åœ¨ Admin ä¸­æŸ¥çœ‹

### è®¿é—®æ–¹å¼

1. **ç™»å½• Admin åå°**
   ```
   http://120.77.222.205/admin/login
   ```

2. **æŸ¥çœ‹æ ‡ç­¾ç®¡ç†**ï¼ˆéœ€è¦å…ˆé‡å¯æœåŠ¡ï¼‰
   - æ ‡ç­¾ API ç«¯ç‚¹ï¼š`/api/admin/tags`
   - å…¬å¼€ APIï¼š`/api/admin/tags/public/all`

### éªŒè¯å‘½ä»¤

```bash
# SSH åˆ°æœåŠ¡å™¨
ssh -p 52222 root@120.77.222.205

# æŸ¥çœ‹æ ‡ç­¾ç»Ÿè®¡
cd ~/hotnews
sqlite3 output/online.db "SELECT type, COUNT(*) FROM tags WHERE enabled = 1 GROUP BY type"

# æŸ¥çœ‹æ‰€æœ‰å¤§ç±»
sqlite3 output/online.db "SELECT id, name, icon FROM tags WHERE type='category' ORDER BY sort_order"

# æŸ¥çœ‹ç§‘æŠ€ç±»ä¸»é¢˜
sqlite3 output/online.db "SELECT id, name, icon FROM tags WHERE type='topic' AND parent_id='tech' ORDER BY sort_order"

# æŸ¥çœ‹æ‰€æœ‰å±æ€§
sqlite3 output/online.db "SELECT id, name, icon, description FROM tags WHERE type='attribute' ORDER BY sort_order"
```

## ğŸ“± Admin ç•Œé¢åŠŸèƒ½

### å½“å‰å¯ç”¨åŠŸèƒ½

1. **æ ‡ç­¾åˆ—è¡¨æŸ¥è¯¢**
   - `GET /api/admin/tags` - åˆ—å‡ºæ‰€æœ‰æ ‡ç­¾
   - `GET /api/admin/tags?type=category` - æŒ‰ç±»å‹ç­›é€‰
   - `GET /api/admin/tags?enabled_only=true` - åªæ˜¾ç¤ºå¯ç”¨çš„

2. **æ ‡ç­¾è¯¦æƒ…**
   - `GET /api/admin/tags/{tag_id}` - è·å–å•ä¸ªæ ‡ç­¾

3. **æ ‡ç­¾ç®¡ç†**
   - `POST /api/admin/tags` - åˆ›å»ºæ–°æ ‡ç­¾
   - `PUT /api/admin/tags/{tag_id}` - æ›´æ–°æ ‡ç­¾
   - `DELETE /api/admin/tags/{tag_id}` - åˆ é™¤æ ‡ç­¾

4. **ç»Ÿè®¡ä¿¡æ¯**
   - `GET /api/admin/tags/types` - æ ‡ç­¾ç±»å‹ç»Ÿè®¡
   - `GET /api/admin/tags/stats/usage` - ä½¿ç”¨ç»Ÿè®¡

5. **å…¬å¼€ API**
   - `GET /api/admin/tags/public/all` - è·å–æ‰€æœ‰å¯ç”¨æ ‡ç­¾ï¼ˆæ— éœ€è®¤è¯ï¼‰

### éœ€è¦é‡å¯æœåŠ¡

âš ï¸ **æ³¨æ„**ï¼šæ ‡ç­¾ API å¯èƒ½éœ€è¦é‡å¯æœåŠ¡æ‰èƒ½æ­£å¸¸è®¿é—®ã€‚

```bash
# åœ¨æœåŠ¡å™¨ä¸Šé‡å¯
cd ~/hotnews/docker
docker compose restart
```

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### 1. RSS æºè‡ªåŠ¨åˆ†ç±»
- ä¸º RSS æºé…ç½®é»˜è®¤æ ‡ç­¾
- æ–°æŠ“å–çš„æ–‡ç« è‡ªåŠ¨ç»§æ‰¿æ ‡ç­¾

### 2. AI æ™ºèƒ½æ ‡æ³¨
- ä½¿ç”¨ AI æ¨¡å‹åˆ†ææ–‡ç« å†…å®¹
- è‡ªåŠ¨æ‰“ä¸Šåˆé€‚çš„æ ‡ç­¾
- å­˜å‚¨åœ¨ `rss_entry_tags` è¡¨

### 3. ç”¨æˆ·ä¸ªæ€§åŒ–è®¢é˜…
- ç”¨æˆ·é€‰æ‹©æ„Ÿå…´è¶£çš„æ ‡ç­¾
- åŸºäºæ ‡ç­¾æ¨èå†…å®¹

### 4. å†…å®¹ç­›é€‰å’Œæœç´¢
- æŒ‰æ ‡ç­¾è¿‡æ»¤æ–°é—»
- å¤šæ ‡ç­¾ç»„åˆæŸ¥è¯¢
- æ ‡ç­¾èšåˆç»Ÿè®¡

## ğŸ“ æ•°æ®åº“è¡¨ç»“æ„

### tags è¡¨
```sql
CREATE TABLE tags (
    id TEXT PRIMARY KEY,           -- æ ‡ç­¾ IDï¼ˆè‹±æ–‡ï¼‰
    name TEXT NOT NULL,            -- æ ‡ç­¾åç§°ï¼ˆä¸­æ–‡ï¼‰
    name_en TEXT,                  -- è‹±æ–‡åç§°
    type TEXT NOT NULL,            -- ç±»å‹ï¼šcategory/topic/attribute
    parent_id TEXT,                -- çˆ¶æ ‡ç­¾ IDï¼ˆç”¨äº topicï¼‰
    icon TEXT,                     -- å›¾æ ‡ emoji
    color TEXT,                    -- é¢œè‰²ä»£ç 
    description TEXT,              -- æè¿°
    sort_order INTEGER DEFAULT 0,  -- æ’åº
    enabled INTEGER DEFAULT 1,     -- æ˜¯å¦å¯ç”¨
    created_at INTEGER,            -- åˆ›å»ºæ—¶é—´
    updated_at INTEGER             -- æ›´æ–°æ—¶é—´
);
```

### rss_entry_tags è¡¨ï¼ˆå…³è”è¡¨ï¼‰
```sql
CREATE TABLE rss_entry_tags (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    entry_id TEXT NOT NULL,        -- RSS æ¡ç›® ID
    tag_id TEXT NOT NULL,          -- æ ‡ç­¾ ID
    confidence REAL,               -- ç½®ä¿¡åº¦ï¼ˆAI æ ‡æ³¨ï¼‰
    source TEXT,                   -- æ¥æºï¼šmanual/ai/auto
    created_at INTEGER,
    UNIQUE(entry_id, tag_id)
);
```

## ğŸ”„ ä¸‹ä¸€æ­¥

1. **é‡å¯æœåŠ¡**ï¼ˆå¯é€‰ï¼Œå¦‚éœ€ä½¿ç”¨ APIï¼‰
   ```bash
   ssh -p 52222 root@120.77.222.205
   cd ~/hotnews/docker
   docker compose restart
   ```

2. **æµ‹è¯• API**
   ```bash
   curl http://120.77.222.205/api/admin/tags/public/all
   ```

3. **åœ¨ Admin ç•Œé¢ç®¡ç†æ ‡ç­¾**
   - è®¿é—® http://120.77.222.205/admin/login
   - ç™»å½•åå¯ä»¥æŸ¥çœ‹å’Œç®¡ç†æ ‡ç­¾

4. **é…ç½® RSS æºæ ‡ç­¾**
   - ä¸ºç°æœ‰ RSS æºæ·»åŠ é»˜è®¤æ ‡ç­¾
   - æ–°æ–‡ç« è‡ªåŠ¨ç»§æ‰¿æ ‡ç­¾

---

**çŠ¶æ€**: âœ… æ ‡ç­¾æ•°æ®å·²æˆåŠŸåˆå§‹åŒ–  
**æ€»æ•°**: 62 ä¸ªæ ‡ç­¾ï¼ˆ12 å¤§ç±» + 40 ä¸»é¢˜ + 10 å±æ€§ï¼‰  
**ä½ç½®**: æœåŠ¡å™¨ 120.77.222.205 çš„ ~/hotnews/output/online.db  
**ä¸‹ä¸€æ­¥**: å¯ä»¥åœ¨ Admin åå°æŸ¥çœ‹å’Œç®¡ç†æ ‡ç­¾

# æ ‡ç­¾åˆ†ç±»ç³»ç»Ÿä½¿ç”¨æŒ‡å—

## ğŸ“Š æ ‡ç­¾ç³»ç»Ÿæ¦‚è¿°

HotNews ä½¿ç”¨å¤šæ ‡ç­¾åˆ†ç±»ç³»ç»Ÿï¼Œæ”¯æŒå¯¹æ–°é—»å†…å®¹è¿›è¡Œç²¾ç»†åŒ–åˆ†ç±»å’Œæ ‡æ³¨ã€‚

### æ ‡ç­¾ç±»å‹

ç³»ç»Ÿå®šä¹‰äº†ä¸‰ç§æ ‡ç­¾ç±»å‹ï¼š

1. **Categoryï¼ˆå¤§ç±»ï¼‰** - äº’æ–¥åˆ†ç±»
   - æ¯æ¡æ–°é—»åªèƒ½å±äºä¸€ä¸ªå¤§ç±»
   - ä¾‹å¦‚ï¼šç§‘æŠ€ã€è´¢ç»ã€å•†ä¸šã€å¨±ä¹ç­‰
   - å…± 12 ä¸ªé¢„è®¾å¤§ç±»

2. **Topicï¼ˆä¸»é¢˜ï¼‰** - ç»†åˆ†ä¸»é¢˜
   - æ¯æ¡æ–°é—»å¯ä»¥æœ‰å¤šä¸ªä¸»é¢˜æ ‡ç­¾
   - ä¸å¤§ç±»å…³è”ï¼ˆparent_idï¼‰
   - ä¾‹å¦‚ï¼šAI/æœºå™¨å­¦ä¹ ã€å¤§è¯­è¨€æ¨¡å‹ã€å¼€å‘å·¥å…·ç­‰
   - å…± 50+ ä¸ªé¢„è®¾ä¸»é¢˜

3. **Attributeï¼ˆå±æ€§ï¼‰** - å†…å®¹å±æ€§
   - æè¿°æ–°é—»çš„ç‰¹å¾å’Œç±»å‹
   - ä¾‹å¦‚ï¼šå…è´¹/ä¼˜æƒ ã€æ•™ç¨‹/å®è·µã€æ·±åº¦åˆ†æç­‰
   - å…± 10 ä¸ªé¢„è®¾å±æ€§

## ğŸ¯ é¢„è®¾æ ‡ç­¾ç»Ÿè®¡

### Categoriesï¼ˆå¤§ç±»ï¼‰- 12 ä¸ª
```
ğŸ’» ç§‘æŠ€ (tech)
ğŸ’° è´¢ç» (finance)
ğŸ¢ å•†ä¸š (business)
ğŸ›ï¸ æ”¿æ²» (politics)
ğŸŒ å›½é™… (world)
ğŸ¬ å¨±ä¹ (entertainment)
âš½ ä½“è‚² (sports)
ğŸ¥ å¥åº· (health)
ğŸ”¬ ç§‘å­¦ (science)
ğŸ  ç”Ÿæ´» (lifestyle)
ğŸ“š æ•™è‚² (education)
ğŸ“° å…¶ä»– (other)
```

### Topicsï¼ˆä¸»é¢˜ï¼‰- æŒ‰å¤§ç±»åˆ†ç»„

**ç§‘æŠ€ç±»ï¼ˆ15 ä¸ªï¼‰**
- ğŸ¤– AI/æœºå™¨å­¦ä¹  (ai_ml)
- ğŸ§  å¤§è¯­è¨€æ¨¡å‹ (llm)
- ğŸ› ï¸ å¼€å‘å·¥å…· (dev_tools)
- ğŸ’» ç¼–ç¨‹è¯­è¨€ (programming)
- ğŸ—„ï¸ æ•°æ®åº“ (database)
- â˜ï¸ äº‘è®¡ç®— (cloud)
- ğŸ”’ ç½‘ç»œå®‰å…¨ (cybersecurity)
- ğŸ”§ ç¡¬ä»¶/èŠ¯ç‰‡ (hardware)
- ğŸ“± ç§»åŠ¨å¼€å‘ (mobile)
- â›“ï¸ Web3/åŒºå—é“¾ (web3)
- ğŸ® æ¸¸æˆ (gaming)
- ğŸ¦¾ æœºå™¨äºº (robotics)
- ğŸ“¡ ç‰©è”ç½‘ (iot)
- ğŸ¥½ VR/AR (vr_ar)
- ğŸŒ å¼€æºé¡¹ç›® (opensource)

**è´¢ç»ç±»ï¼ˆ7 ä¸ªï¼‰**
- ğŸ“ˆ è‚¡ç¥¨ (stock)
- â‚¿ åŠ å¯†è´§å¸ (crypto)
- ğŸŒ å®è§‚ç»æµ (macro)
- ğŸ¦ é“¶è¡Œ (banking)
- ğŸ›¡ï¸ ä¿é™© (insurance)
- ğŸ˜ï¸ æˆ¿åœ°äº§ (real_estate)
- ğŸ’³ ä¸ªäººç†è´¢ (personal_fin)

**å•†ä¸šç±»ï¼ˆ5 ä¸ªï¼‰**
- ğŸš€ åˆ›ä¸š/èèµ„ (startup)
- ğŸ›’ ç”µå•† (ecommerce)
- ğŸ“£ è¥é”€ (marketing)
- ğŸ‘¥ äººåŠ›èµ„æº (hr)
- ğŸ“Š ä¼ä¸šç®¡ç† (management)

**ç”Ÿæ´»ç±»ï¼ˆ7 ä¸ªï¼‰**
- ğŸœ ç¾é£Ÿ (food)
- âœˆï¸ æ—…è¡Œ (travel)
- ğŸ‘— æ—¶å°š (fashion)
- ğŸ¡ å®¶å±… (home)
- ğŸ‘¶ è‚²å„¿ (parenting)
- ğŸ¾ å® ç‰© (pets)
- ğŸš— æ±½è½¦ (automotive)

**å¨±ä¹ç±»ï¼ˆ6 ä¸ªï¼‰**
- ğŸ¬ ç”µå½± (movies)
- ğŸµ éŸ³ä¹ (music)
- ğŸ“º ç”µè§†å‰§ (tv_shows)
- â­ æ˜æ˜Ÿ (celebrity)
- ğŸŒ åŠ¨æ¼« (anime)
- ğŸ“– ä¹¦ç± (books)

### Attributesï¼ˆå±æ€§ï¼‰- 10 ä¸ª
```
ğŸ†“ å…è´¹/ä¼˜æƒ  (free_deal) - è–…ç¾Šæ¯›ã€å…è´¹èµ„æºã€æŠ˜æ‰£æ´»åŠ¨
ğŸ“ æ•™ç¨‹/å®è·µ (tutorial) - åŠ¨æ‰‹æ•™ç¨‹ã€ä»£ç å®æˆ˜
ğŸ” æ·±åº¦åˆ†æ (deep_dive) - é•¿æ–‡ã€ç ”æŠ¥ã€æ·±åº¦è§£è¯»
âš¡ å¿«è®¯/é€ŸæŠ¥ (breaking) - çªå‘æ–°é—»ã€å³æ—¶æ¶ˆæ¯
ğŸ“¢ å®˜æ–¹å‘å¸ƒ (official) - å®˜æ–¹å…¬å‘Šã€æ–°å“å‘å¸ƒ
ğŸ’­ è§‚ç‚¹/è¯„è®º (opinion) - ä¸“æ ã€è¯„è®ºæ–‡ç« 
ğŸ¤ è®¿è°ˆ (interview) - äººç‰©è®¿è°ˆã€å¯¹è¯
ğŸ§° å·¥å…·æ¨è (tool_rec) - è½¯ä»¶ã€æœåŠ¡æ¨è
ğŸ’¼ èŒä¸š/æ±‚èŒ (career) - æ±‚èŒã€æ‹›è˜ã€èŒä¸šå‘å±•
ğŸª æ´»åŠ¨/ä¼šè®® (event) - å¤§ä¼šã€å±•ä¼šã€æ´»åŠ¨
```

## ğŸ”§ æœåŠ¡å™¨çŠ¶æ€æ£€æŸ¥

### å½“å‰çŠ¶æ€
```bash
# æœåŠ¡å™¨: 120.77.222.205:52222
# æ•°æ®åº“: ~/hotnews/output/online.db
# æ ‡ç­¾è¡¨: tags (å·²åˆ›å»ºä½†ä¸ºç©º)
```

**æ£€æŸ¥ç»“æœ**ï¼š
- âœ… æ•°æ®åº“è¡¨å·²åˆ›å»º
- âŒ æ ‡ç­¾æ•°æ®æœªåˆå§‹åŒ–ï¼ˆè¡¨ä¸ºç©ºï¼‰

## ğŸš€ åˆå§‹åŒ–æ ‡ç­¾æ•°æ®

### æ–¹æ³• 1: é€šè¿‡ Admin APIï¼ˆæ¨èï¼‰

1. **è®¿é—® Admin åå°**
   ```
   http://120.77.222.205/admin/login
   ```

2. **ç™»å½•åè°ƒç”¨åˆå§‹åŒ– API**
   ```bash
   curl -X POST http://120.77.222.205/api/admin/tags/init \
     -H "Cookie: your_admin_session_cookie"
   ```

### æ–¹æ³• 2: ç›´æ¥åœ¨æœåŠ¡å™¨æ‰§è¡Œ

```bash
# SSH åˆ°æœåŠ¡å™¨
ssh -p 52222 root@120.77.222.205

# è¿›å…¥é¡¹ç›®ç›®å½•
cd ~/hotnews

# è¿è¡Œåˆå§‹åŒ–è„šæœ¬
python -c "
from pathlib import Path
from hotnews.kernel.admin.tag_init import init_tags
init_tags(Path.cwd())
"
```

### æ–¹æ³• 3: é€šè¿‡ Docker å®¹å™¨

```bash
# SSH åˆ°æœåŠ¡å™¨
ssh -p 52222 root@120.77.222.205

# è¿›å…¥å®¹å™¨
docker exec -it hotnews bash

# è¿è¡Œåˆå§‹åŒ–
python -c "
from pathlib import Path
from hotnews.kernel.admin.tag_init import init_tags
init_tags(Path('/app'))
"
```

## ğŸ“± Admin ç®¡ç†ç•Œé¢

### è®¿é—®åœ°å€

**ç™»å½•é¡µé¢**ï¼š
```
http://120.77.222.205/admin/login
```

**RSS æºç®¡ç†**ï¼š
```
http://120.77.222.205/admin/rss-sources
```

### æ ‡ç­¾ç®¡ç† API

**åˆ—å‡ºæ‰€æœ‰æ ‡ç­¾**ï¼š
```bash
GET /api/admin/tags
GET /api/admin/tags?type=category
GET /api/admin/tags?type=topic
GET /api/admin/tags?type=attribute
```

**è·å–æ ‡ç­¾ç±»å‹ç»Ÿè®¡**ï¼š
```bash
GET /api/admin/tags/types
```

**è·å–å•ä¸ªæ ‡ç­¾**ï¼š
```bash
GET /api/admin/tags/{tag_id}
```

**åˆ›å»ºæ ‡ç­¾**ï¼š
```bash
POST /api/admin/tags
Content-Type: application/json

{
  "id": "new_tag",
  "name": "æ–°æ ‡ç­¾",
  "type": "topic",
  "parent_id": "tech",
  "icon": "ğŸ”¥",
  "color": "#FF5733"
}
```

**æ›´æ–°æ ‡ç­¾**ï¼š
```bash
PUT /api/admin/tags/{tag_id}
Content-Type: application/json

{
  "name": "æ›´æ–°åçš„åç§°",
  "enabled": true
}
```

**åˆ é™¤æ ‡ç­¾**ï¼š
```bash
DELETE /api/admin/tags/{tag_id}
```

**åˆå§‹åŒ–é¢„è®¾æ ‡ç­¾**ï¼š
```bash
POST /api/admin/tags/init
```

**æ ‡ç­¾ä½¿ç”¨ç»Ÿè®¡**ï¼š
```bash
GET /api/admin/tags/stats/usage
```

### å…¬å¼€ APIï¼ˆæ— éœ€è®¤è¯ï¼‰

**è·å–æ‰€æœ‰å¯ç”¨çš„æ ‡ç­¾**ï¼š
```bash
GET /api/admin/tags/public/all
```

è¿”å›æ ¼å¼ï¼š
```json
{
  "ok": true,
  "categories": [...],
  "topics": [...],
  "attributes": [...],
  "total": 77
}
```

## ğŸ” éªŒè¯æ ‡ç­¾æ•°æ®

### æ£€æŸ¥æ ‡ç­¾æ•°é‡

```bash
# åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ
ssh -p 52222 root@120.77.222.205 "cd ~/hotnews && sqlite3 output/online.db 'SELECT type, COUNT(*) FROM tags WHERE enabled = 1 GROUP BY type'"
```

é¢„æœŸè¾“å‡ºï¼š
```
attribute|10
category|12
topic|55
```

### æŸ¥çœ‹å…·ä½“æ ‡ç­¾

```bash
# æŸ¥çœ‹æ‰€æœ‰ç§‘æŠ€ç±»ä¸»é¢˜
ssh -p 52222 root@120.77.222.205 "cd ~/hotnews && sqlite3 output/online.db \"SELECT id, name, icon FROM tags WHERE type='topic' AND parent_id='tech' ORDER BY sort_order\""
```

### é€šè¿‡ API æŸ¥çœ‹

```bash
# è·å–æ‰€æœ‰æ ‡ç­¾
curl http://120.77.222.205/api/admin/tags/public/all | jq .

# è·å–æ ‡ç­¾ç±»å‹ç»Ÿè®¡
curl http://120.77.222.205/api/admin/tags/types | jq .
```

## ğŸ“ ä½¿ç”¨åœºæ™¯

### 1. RSS æºåˆ†ç±»
- ä¸º RSS æºé…ç½®é»˜è®¤æ ‡ç­¾
- è‡ªåŠ¨ä¸ºæŠ“å–çš„æ–°é—»æ‰“æ ‡ç­¾

### 2. AI è‡ªåŠ¨åˆ†ç±»
- ä½¿ç”¨ AI æ¨¡å‹è‡ªåŠ¨è¯†åˆ«æ–°é—»ç±»åˆ«å’Œä¸»é¢˜
- å­˜å‚¨åœ¨ `rss_entry_tags` è¡¨ä¸­

### 3. ç”¨æˆ·è®¢é˜…
- ç”¨æˆ·å¯ä»¥è®¢é˜…ç‰¹å®šæ ‡ç­¾
- ä¸ªæ€§åŒ–æ¨èåŸºäºæ ‡ç­¾åå¥½

### 4. å†…å®¹è¿‡æ»¤
- æŒ‰æ ‡ç­¾ç­›é€‰æ–°é—»
- å¤šæ ‡ç­¾ç»„åˆæŸ¥è¯¢

## ğŸ¯ ä¸‹ä¸€æ­¥æ“ä½œ

1. **åˆå§‹åŒ–æ ‡ç­¾æ•°æ®**
   ```bash
   ssh -p 52222 root@120.77.222.205
   cd ~/hotnews
   python -c "from pathlib import Path; from hotnews.kernel.admin.tag_init import init_tags; init_tags(Path.cwd())"
   ```

2. **éªŒè¯åˆå§‹åŒ–ç»“æœ**
   ```bash
   sqlite3 output/online.db "SELECT type, COUNT(*) FROM tags GROUP BY type"
   ```

3. **è®¿é—® Admin ç•Œé¢**
   - æ‰“å¼€æµè§ˆå™¨è®¿é—® http://120.77.222.205/admin/login
   - ç™»å½•åå¯ä»¥ç®¡ç†æ ‡ç­¾

4. **æµ‹è¯• API**
   ```bash
   curl http://120.77.222.205/api/admin/tags/public/all
   ```

---

**æ–‡æ¡£åˆ›å»ºæ—¶é—´**: 2026-01-19  
**æœåŠ¡å™¨**: 120.77.222.205:52222  
**æ•°æ®åº“**: ~/hotnews/output/online.db  
**å½“å‰çŠ¶æ€**: æ ‡ç­¾è¡¨å·²åˆ›å»ºï¼Œç­‰å¾…åˆå§‹åŒ–æ•°æ®

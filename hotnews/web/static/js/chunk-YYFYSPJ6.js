var s=window.Hotnews=window.Hotnews||{},f=[],m=!1;function g(t){m?t():f.push(t)}document.addEventListener("DOMContentLoaded",function(){m=!0,f.forEach(t=>{try{t()}catch(e){console.error("Ready handler error:",e)}})});function u(t){return String(t||"").replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#39;")}function y(t){let e=t==null?"":String(t).trim();if(!e)return e;let r=e.match(/^(\d{4})-(\d{2})-(\d{2})\s+(\d{2}):(\d{2})(?::\d{2})?$/);return r?`${r[2]}-${r[3]} ${r[4]}:${r[5]}`:(e.match(/^(\d{2})-(\d{2})\s+(\d{2}):(\d{2})$/),e)}s.ready=g;s.escapeHtml=u;s.formatUpdatedAt=y;function h(t){if(t==null||t==="")return"";try{let e=Number(t);if(Number.isFinite(e)&&e>0){let i=e>1e12?e:e*1e3,o=new Date(i);if(!isNaN(o.getTime())){let d=String(o.getFullYear()),c=String(o.getMonth()+1).padStart(2,"0"),p=String(o.getDate()).padStart(2,"0");return`${d}-${c}-${p}`}}let n=String(t||"").trim().match(/^(\d{4})-(\d{2})-(\d{2})/);if(n)return`${n[1]}-${n[2]}-${n[3]}`}catch{}return""}s.formatNewsDate=h;var a={container:null,nextId:1,items:new Map};function x(){if(a.container)return a.container;let t=document.createElement("div");t.id="tr-toast-container",t.style.position="fixed",t.style.right="16px",t.style.bottom="16px",t.style.display="flex",t.style.flexDirection="column",t.style.gap="10px",t.style.zIndex="99999";try{document.body.appendChild(t)}catch{}return a.container=t,t}function b(t){let e=String(t||"info");return e==="loading"?{bg:"#111827",fg:"#fff",border:"#111827"}:e==="success"?{bg:"#16a34a",fg:"#fff",border:"#16a34a"}:e==="error"?{bg:"#dc2626",fg:"#fff",border:"#dc2626"}:{bg:"#111827",fg:"#fff",border:"#111827"}}function l(t,e,r){let n=b(r);t.className="tr-toast",t.style.display="flex",t.style.alignItems="center",t.style.gap="10px",t.style.padding="10px 12px",t.style.borderRadius="10px",t.style.background=n.bg,t.style.color=n.fg,t.style.border=`1px solid ${n.border}`,t.style.boxShadow="0 10px 20px rgba(0,0,0,0.18)",t.style.fontSize="0.9rem",t.style.maxWidth="360px",t.style.wordBreak="break-word";let o=String(r||"info")==="loading"?'<span aria-hidden="true" style="display:inline-block;width:10px;height:10px;border-radius:50%;background:#60a5fa;box-shadow:0 0 0 2px rgba(96,165,250,0.3);"></span>':"";t.innerHTML=`${o}<div class="tr-toast-msg">${u(e||"")}</div>`}s.toast={show(t,e={}){let r=`toast-${a.nextId++}`,n=x(),i=document.createElement("div");i.dataset.toastId=r,l(i,t,e.variant);try{n.appendChild(i)}catch{}let o={id:r,el:i,hideTimer:0};a.items.set(r,o);let d=Number(e.durationMs||0);return d>0&&(o.hideTimer=window.setTimeout(()=>{s.toast.hide(r)},d)),r},update(t,e,r={}){let n=a.items.get(String(t||""));if(!n)return;n.hideTimer&&(window.clearTimeout(n.hideTimer),n.hideTimer=0),l(n.el,e,r.variant);let i=Number(r.durationMs||0);i>0&&(n.hideTimer=window.setTimeout(()=>{s.toast.hide(t)},i))},hide(t){let e=a.items.get(String(t||""));if(e){e.hideTimer&&(window.clearTimeout(e.hideTimer),e.hideTimer=0);try{e.el.remove()}catch{}a.items.delete(String(t||""))}}};export{s as a,g as b,u as c,y as d,h as e};
